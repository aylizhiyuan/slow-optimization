<!--
 * @Author: lizhiyuan
 * @Date: 2020-11-25 10:42:52
 * @LastEditors: lizhiyuan
 * @LastEditTime: 2020-11-25 14:44:45
-->
# mongodb分片

## 概念

分片是一种将数据分配到多个机器上的方法.mongodb通过分片技术来支持具有海量数据集和高吞吐量操作的部署方案

解决系统增长的方法有两种:垂直扩展和水平扩展

水平扩展是通过将系统的数据集划分至多台机器，并根据需要添加服务器来提升容量.虽然单个机器的总体速度或容量可能不高，但每台机器只需要处理整个数据集的某个子集，所以可能会提供比单个高速大容量服务器更高的效率


## 分片集群

一个mongodb分片集群由以下组件组成:

- shard 每个分片包含被分片的数据集中的一个子集.每个分片必须部署为副本集架构

- mongos 充当查询路由的角色，为客户端应用程序和分片集群间的通信提供一个接口

- config servers 配置服务器存储了分片集群的元数据和配置信息，必须部署为副本集架构




